<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>ffmpeg :: 你好，世界 — 📝🎿🛹🏍️</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/tags/ffmpeg/" />


<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ffmpeg"/>
<meta name="twitter:description" content=""/>



<meta property="og:title" content="ffmpeg" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/tags/ffmpeg/" />

<meta property="og:updated_time" content="2014-12-24T09:11:09+00:00" /><meta property="og:site_name" content="你好，世界" />



<link rel="alternate" type="application/rss+xml" href="/tags/ffmpeg/index.xml" title="你好，世界" />



  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">Hello World</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  <div class="posts">
    
    
    

    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/about-ffmpeg-advance/">关于FFmpeg（进阶）</a></h1>
      <div class="post-meta">
        <span class="post-date">
          2014-12-24
        </span>
        <span class="post-author">— Written by Guo Yi</span>
        
      </div>


      
        <span class="post-tags">
          
            #<a href="/tags/%E6%8A%80%E6%9C%AF/">技术</a>&nbsp;
          
            #<a href="/tags/ffmpeg/">ffmpeg</a>&nbsp;
          
        </span>
      

      

      <div class="post-content">
        
          
            基本篇在此。
目前仅使用到了ffmpeg的读写文件/编解码功能，并未使用其去直接渲染。
这里说是进阶，其实也只能算浮于表面。因此主要记录使用ffmpeg以来遇到的坑，版本差异，android版本编译等。So，这里就不继续采用Q&amp;A的方式了。
（本文并非通过ffmpeg.exe\bin传递command来进行处理，而是直接调用ffmpeg相关libraries中的api）
####FFmpeg libraries FFmpeg有以下库：（2014/12/24 ffmpeg 2.5.2），主要功能列在About中有基本介绍，这里不再赘述。
 libavutil 54. 15.100 libavcodec 56. 13.100 libavformat 56. 15.102 libavdevice 56. 3.100 &mdash; 未使用 libavfilter 5. 2.103 &mdash; 未使用 libavresample 2. 1. 0 &mdash; 未使用 libswscale 3. 1.101 libswresample 1. 1.100 libpostproc 53. 3.100 &mdash; 未使用   ####FFmpeg基本 首先，官方文档为第一参考文档；其次就是源码（这里把*源码*放到这么靠前的原因下文会提到）。
FFmpeg的官方文档算是比较全的。 一些常见case的testbed都可以找得到；例如2.5版本，编解码的sample
同时官方的例子并非浅显易懂，但是因为层次简单，所以调用逻辑很清楚；参考着这些文档/Sample就可以按需设计一个简化版Adapter了。
####FFmpeg基本调用逻辑 还记得Decode/Encode和Muxer/Demuxer吧，如果还记得那就很好理解了。下面截选了部分代码（不要在意细节），有一些重要关键但非流程相关的步骤这里先省略（例如FIFO等），下文再提。
#####Encoding（Based on 2.x） - Register all codec //应该是plugin的机制
av_register_all(); avcodec_register_all();   Find encoder -&gt; create stream -&gt; open encoder
          
        
      </div>
      <div><a class="read-more button" href="/posts/about-ffmpeg-advance/">Read more →</a></div>
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/ffmpeg-secure-a-place-in-opw/">FFmpeg提供给OPW一个实习岗位</a></h1>
      <div class="post-meta">
        <span class="post-date">
          2014-10-11
        </span>
        <span class="post-author">— Written by Guo Yi</span>
        
      </div>


      
        <span class="post-tags">
          
            #<a href="/tags/ffmpeg/">ffmpeg</a>&nbsp;
          
        </span>
      

      

      <div class="post-content">
        
          
            原文如下：
 ####October 8, 2014, FFmpeg secured a place in OPW!
Thanks to a generous 6K USD donation by Samsung (Open Source Group), FFmpeg will be welcoming at least 1 &ldquo;Outreach Program for Women&rdquo; intern to work with our community for an initial period starting December 2014 (through March 2015).
We all know FFmpeg is used by the industry, but even while there are countless products building on our code, it is not at all common for companies to step up and help us out when needed.
          
        
      </div>
      <div><a class="read-more button" href="/posts/ffmpeg-secure-a-place-in-opw/">Read more →</a></div>
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/about-ffmpeg-basic/">关于FFmpeg（基础）</a></h1>
      <div class="post-meta">
        <span class="post-date">
          2014-09-29
        </span>
        <span class="post-author">— Written by Guo Yi</span>
        
      </div>


      
        <span class="post-tags">
          
            #<a href="/tags/%E6%8A%80%E6%9C%AF/">技术</a>&nbsp;
          
            #<a href="/tags/ffmpeg/">ffmpeg</a>&nbsp;
          
        </span>
      

      

      <div class="post-content">
        
          
            这篇title有点大，因为ffmpeg作为一个合格的多媒体框架，支持那么多codec和协议，一篇文章想写完，不现实。
不过本着本人不喜细节的一贯作风（不要在意这些细节！），所以就这么随便说说吧，当是个给自己的记录。
（下文基本是自问自答的方式（原因在于我觉得这种风格蛮容易理解的））
####什么是FFmpeg？
这个太宽泛了，简单回答就是一个多媒体框架。什么是多媒体？一句话：但凡不是文字还具有表意的数据形式，都可以称之为多媒体。（不过，如果对多媒体真是一点概念都没有的话。。。建议还是出门左拐6块钱麻辣烫填饱肚子再说吧。。。）
 FFmpeg is the leading multimedia framework, able to decode, encode, transcode, mux, demux, stream, filter and play pretty much anything that humans and machines have created. It supports the most obscure ancient formats up to the cutting edge. No matter if they were designed by some standards committee, the community or a corporation.
FFmpeg是多媒体框架的领军人物，允许解码、编码、转码、Mux（觉得确实没有特别好的翻译）、Demux、stream（这里不是名词）、filter和播放各种文件。它还支持时至今日的绝大多数古老文件格式，即使那格式甚至都尚未成为标准。
 是不是听起来碉堡了。BUT有一点一定要了解的就是，FFmpeg的开源协议。
####听起来很棒，谁在用？
这个很难回答。。。
因为应用太广泛了，而且目前的FFmpeg版本（2.x）框架也更易于“组合”
所以更容易以不同的形式出现在你的周围。例如各种XX影音和XX视频等等。
####这么多，太棒了！那他们都开源了吧！
呵呵。
尽管LGPL已经比较宽泛，动态链接即可；
但是加上遵循GPL的X264这块烫手山芋，（其实还是有办法绕过的，在FFmpeg的开源协议有提到华丽的classpath exception）
          
        
      </div>
      <div><a class="read-more button" href="/posts/about-ffmpeg-basic/">Read more →</a></div>
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/about-gpl/">关于GPL</a></h1>
      <div class="post-meta">
        <span class="post-date">
          2014-09-24
        </span>
        <span class="post-author">— Written by Guo Yi</span>
        
      </div>


      
        <span class="post-tags">
          
            #<a href="/tags/%E6%8A%80%E6%9C%AF/">技术</a>&nbsp;
          
            #<a href="/tags/ffmpeg/">ffmpeg</a>&nbsp;
          
            #<a href="/tags/gpl/">gpl</a>&nbsp;
          
        </span>
      

      

      <div class="post-content">
        
          
            因为最近在做ffmpeg相关的东西，所以GPL/LGPL还是要了解一下的。
GPL的WIKI： GPL WIKI
FFmpeg主要代码遵循的是LGPL；简单来说，静态库调用的话必须同样遵循LGPL（被传染），而动态库调用就没关系：FFmpeg legal
 The following is a checklist for LGPL compliance when linking against the FFmpeg libraries. It is not the only way to comply with the license, but we think it is the easiest. There are also a few items that are not really related to LGPL compliance but are good ideas anyway.
1.Compile FFmpeg without &ldquo;&ndash;enable-gpl&rdquo; and without &ldquo;&ndash;enable-nonfree&rdquo;.
2.Use dynamic linking (on windows, this means linking to dlls) for linking with FFmpeg libraries.
          
        
      </div>
      <div><a class="read-more button" href="/posts/about-gpl/">Read more →</a></div>
    </div>
    
    <div class="pagination">
  <div class="pagination__buttons">
    
    
  </div>
</div>

  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">来自某个八零后</div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
