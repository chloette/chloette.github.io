<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>Jenkins android è‡ªåŠ¨åŒ–ç¼–è¯‘çš„ä¸€äº›å‘ :: ä½ å¥½ï¼Œä¸–ç•Œ â€” ğŸ“ğŸ¿ğŸ›¹ğŸï¸</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Jenkinså°±æ˜¯Hudsonçš„å…ƒè€ä»¬ï¼Œå¯¹Oracleæ³¨å†ŒHudsonå•†æ ‡ï¼ˆSunè¢«åƒäº†å˜›ï¼‰å¹¶ä¸”æ‰“ç®—å°†å…¶ç§æœ‰å•†ä¸šåŒ–è¡¨ç¤ºä¸æ»¡åï¼Œå¦èµ·ç‚‰ç¶çš„äº§ç‰©ï¼ˆæ‰€ä»¥å’Œhudsonä¸ä»…çœ‹èµ·æ¥åƒï¼Œè¿æ’ä»¶åŸºæœ¬éƒ½é€šç”¨ã€‚ã€‚ã€‚ï¼‰ æ›´å…·ä½“çš„ç»†èŠ‚è¯·ç§»æ­¥Wiki
[æœ¬æ–‡éç§‘æ™®/æ•™ç¨‹è´´ï¼Œä»…ä¾›å°è¯•ä½¿ç”¨Jenkins/Hudsonä½†é‡åˆ°é—®é¢˜çš„åŒå­¦ä»¬ï¼Œå¡«å¹³å‡ ä¸ªè„šä¸‹çš„å‘ã€‚]
###åŸºæœ¬æ•™ç¨‹ï¼š
ç›´æ¥å®‰è£…è¿è¡Œinstall jenkinså°±å¯ä»¥äº†ï¼Œç„¶åè®¿é—®localhost:8080å°±å¯ä»¥çœ‹åˆ°åŸºæœ¬é¡µé¢ã€‚
https://wiki.jenkins-ci.org/display/JENKINS/Installing&#43;Jenkins&#43;on&#43;Ubuntu https://wiki.jenkins-ci.org/display/JENKINS/GMail
ä¸€èˆ¬å®‰è£…æ’ä»¶å¦‚ä¸‹ï¼š
https://wiki.jenkins-ci.org/display/JENKINS/Ant&#43;Plugin https://wiki.jenkins-ci.org/display/JENKINS/Android&#43;Lint&#43;Plugin https://wiki.jenkins-ci.org/display/JENKINS/Android&#43;Emulator&#43;Plugin http://wiki.hudson-ci.org/display/HUDSON/Subversion&#43;Release&#43;Manager
é…ç½®å‚è€ƒå¦‚ä¸‹å³å¯ï¼š
http://java.dzone.com/articles/automating-continuous https://wiki.jenkins-ci.org/display/JENKINS/Building&#43;an&#43;Android&#43;app&#43;and&#43;test&#43;project
###æ³¨æ„äº‹é¡¹ï¼š
ä¸€èˆ¬å¦‚ä¸Šæ“ä½œï¼Œå°±å·®ä¸å¤šå¯ä»¥å»â€œbuildâ€äº†ã€‚ä½†å¾ˆå¯èƒ½æ˜¯è†æ£˜éé‡çš„ï¼Œè¿™é‡Œç½—åˆ—ä¸€äº›é‡åˆ°çš„å‘ï¼š
 å¤šå·¥ç¨‹ä¾èµ– å¦‚å·¥ç¨‹Aï¼Œæœ‰ä¸¤ä¸ªä¾èµ–çš„libraryå·¥ç¨‹Bå’ŒCï¼Œè¿™æ—¶å€™é™¤äº†éœ€è¦åœ¨å·¥ç¨‹Aä¸‹é¢ç”Ÿæˆbuild.xmlå’Œproject.propertiesï¼Œè¿˜éœ€è¦åœ¨å·¥ç¨‹Bå’ŒCä¸‹é¢åŒæ ·ç”Ÿæˆï¼ˆandroid update projectï¼‰ï¼›ç„¶åç¼–è¯‘çš„æ—¶å€™åœ¨Antçš„Build Fileé‡Œé¢ä½¿ç”¨å·¥ç¨‹Açš„build.xmlå³å¯
 è·¯å¾„é—®é¢˜ å¦‚æœå‡ºç°æ˜æ˜project.propertiesé‡Œé¢æœ‰æ³¨æ˜android.library.reference.1=xxxçš„ä¾èµ–é¡¹ï¼Œç¼–è¯‘æ—¶ä¾ç„¶æ‰¾ä¸åˆ°ï¼›è¯·ç¡®è®¤è·¯å¾„æ˜¯../../xxxçš„æ ¼å¼è€Œä¸æ˜¯..\\..\\xxxçš„æ ¼å¼ã€‚ï¼ˆåæ–œæ ä¸å…¼å®¹ï¼‰
 nativeåº“ï¼ˆ.soï¼‰é—®é¢˜ å¦‚æœå‡ºç°åº“æ— æ³•é“¾æ¥ï¼Œæˆ–è€…æ²¡æœ‰æ‰“åŒ…åˆ°apkä¸­çš„æƒ…å†µï¼›è¯·ç¡®è®¤æ˜¯å¦æ˜¯targetç‰ˆæœ¬ä¸å¯¹ï¼Œç›®å‰android-20æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜çš„ï¼ˆä¾‹å¦‚å®‰è£…åä¸èƒ½è¿è¡Œç­‰ã€‚ã€‚ã€‚ï¼‰ï¼Œæš‚ä¸å»ºè®®ä½¿ç”¨ï¼ˆ2014/9/11ï¼‰
 ç¯å¢ƒå˜é‡é—®é¢˜
å¦‚å‡ºç°ç¯å¢ƒå˜é‡æ‰¾ä¸åˆ°ï¼Œå¯ä»¥ç›´æ¥åŠ åœ¨Antçš„Propertiesé‡Œé¢ï¼Œå¦‚ï¼š
sdk.dir=/xxx/xxx/xxx/sdk   ç­¾åé—®é¢˜   æŠŠkeyæ‰¾ä¸ªä½ç½®æ”¾å¥½ï¼Œç„¶ååœ¨Antçš„Propertiesé‡Œé¢åŠ å…¥ï¼š
key.store=/xxx/xxx/xxx.key key.alias=xxx key.store.password=xxx key.alias.password=xxx  æç¤ºç©ºé—´ä¸è¶³
å¤šæ¬¡ç¼–è¯‘åå¦‚ç©ºé—´ä¸è¶³ï¼Œæœ€å¥½å°†JENKINS_HOMEï¼ˆä¸»è¦æ˜¯æ”¹è¿™ä¸ªç¯å¢ƒå˜é‡ï¼‰è¿ç§»åˆ°å…¶ä»–ç›˜ï¼ˆé»˜è®¤æ˜¯/var/lib/jenkinsï¼‰; å¦‚æœé‡åˆ°äº†503çš„è¯ï¼Œä¸€èˆ¬æ˜¯æƒé™ä¸å¯¹ï¼ŒæŠŠæ–°ç›®å½•çš„owneræ”¹ä¸ºjenkins:jenkinsï¼Œæƒé™æ”¹ä¸º755å³å¯ã€‚
 å¤šæ–‡ä»¶æ‰“åŒ…
ä¸æ”¯æŒå¤šä¸ªæ–‡ä»¶åŒæ—¶è¾“å‡ºï¼ˆé™¤éæœ‰nameä¸Šçš„å…³è”ï¼Œå¦‚**/*.apkè¿™ç§ï¼‰ï¼Œè¿™é‡Œå¯ä»¥ç”¨shellå‘½ä»¤æ¥æ‰“åŒ…ï¼›å¦‚tarï¼›è¿™é‡Œå¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡æ–¹ä¾¿å‘½åï¼Œå¦‚$JOB_NAMEæˆ–è€…$WORKSPACEç­‰ç­‰ï¼Œä¸¾ä¸ªæ —å­ï¼š
cd $WORKSPACE/code/XXX/bin/ tar zcvf $JOB_NAME.tar.gz proguard/mapping.txt xxx.apk  æœ€åArchive the artifaceså¡«**/*.tar.gzå°±å¥½äº†
 å¦‚ä½•åˆ é™¤SVNçš„ç™»å½•ä¿¡æ¯   ç™»å½•æœåŠ¡å™¨ï¼ˆç•Œé¢ä¸Šæ²¡æ‰¾åˆ°ä¿®æ”¹çš„åœ°æ–¹ï¼‰ï¼ŒEdit your HUDSON_HOME/hudson.scm.SubversionSCM.xml file and delete your /credentials/entry matching with your realm (and having your given username)."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/posts/jenkins-android-auto-build-problems/" />


<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Jenkins android è‡ªåŠ¨åŒ–ç¼–è¯‘çš„ä¸€äº›å‘"/>
<meta name="twitter:description" content="Jenkinså°±æ˜¯Hudsonçš„å…ƒè€ä»¬ï¼Œå¯¹Oracleæ³¨å†ŒHudsonå•†æ ‡ï¼ˆSunè¢«åƒäº†å˜›ï¼‰å¹¶ä¸”æ‰“ç®—å°†å…¶ç§æœ‰å•†ä¸šåŒ–è¡¨ç¤ºä¸æ»¡åï¼Œå¦èµ·ç‚‰ç¶çš„äº§ç‰©ï¼ˆæ‰€ä»¥å’Œhudsonä¸ä»…çœ‹èµ·æ¥åƒï¼Œè¿æ’ä»¶åŸºæœ¬éƒ½é€šç”¨ã€‚ã€‚ã€‚ï¼‰ æ›´å…·ä½“çš„ç»†èŠ‚è¯·ç§»æ­¥Wiki
[æœ¬æ–‡éç§‘æ™®/æ•™ç¨‹è´´ï¼Œä»…ä¾›å°è¯•ä½¿ç”¨Jenkins/Hudsonä½†é‡åˆ°é—®é¢˜çš„åŒå­¦ä»¬ï¼Œå¡«å¹³å‡ ä¸ªè„šä¸‹çš„å‘ã€‚]
###åŸºæœ¬æ•™ç¨‹ï¼š
ç›´æ¥å®‰è£…è¿è¡Œinstall jenkinså°±å¯ä»¥äº†ï¼Œç„¶åè®¿é—®localhost:8080å°±å¯ä»¥çœ‹åˆ°åŸºæœ¬é¡µé¢ã€‚
https://wiki.jenkins-ci.org/display/JENKINS/Installing&#43;Jenkins&#43;on&#43;Ubuntu https://wiki.jenkins-ci.org/display/JENKINS/GMail
ä¸€èˆ¬å®‰è£…æ’ä»¶å¦‚ä¸‹ï¼š
https://wiki.jenkins-ci.org/display/JENKINS/Ant&#43;Plugin https://wiki.jenkins-ci.org/display/JENKINS/Android&#43;Lint&#43;Plugin https://wiki.jenkins-ci.org/display/JENKINS/Android&#43;Emulator&#43;Plugin http://wiki.hudson-ci.org/display/HUDSON/Subversion&#43;Release&#43;Manager
é…ç½®å‚è€ƒå¦‚ä¸‹å³å¯ï¼š
http://java.dzone.com/articles/automating-continuous https://wiki.jenkins-ci.org/display/JENKINS/Building&#43;an&#43;Android&#43;app&#43;and&#43;test&#43;project
###æ³¨æ„äº‹é¡¹ï¼š
ä¸€èˆ¬å¦‚ä¸Šæ“ä½œï¼Œå°±å·®ä¸å¤šå¯ä»¥å»â€œbuildâ€äº†ã€‚ä½†å¾ˆå¯èƒ½æ˜¯è†æ£˜éé‡çš„ï¼Œè¿™é‡Œç½—åˆ—ä¸€äº›é‡åˆ°çš„å‘ï¼š
 å¤šå·¥ç¨‹ä¾èµ– å¦‚å·¥ç¨‹Aï¼Œæœ‰ä¸¤ä¸ªä¾èµ–çš„libraryå·¥ç¨‹Bå’ŒCï¼Œè¿™æ—¶å€™é™¤äº†éœ€è¦åœ¨å·¥ç¨‹Aä¸‹é¢ç”Ÿæˆbuild.xmlå’Œproject.propertiesï¼Œè¿˜éœ€è¦åœ¨å·¥ç¨‹Bå’ŒCä¸‹é¢åŒæ ·ç”Ÿæˆï¼ˆandroid update projectï¼‰ï¼›ç„¶åç¼–è¯‘çš„æ—¶å€™åœ¨Antçš„Build Fileé‡Œé¢ä½¿ç”¨å·¥ç¨‹Açš„build.xmlå³å¯
 è·¯å¾„é—®é¢˜ å¦‚æœå‡ºç°æ˜æ˜project.propertiesé‡Œé¢æœ‰æ³¨æ˜android.library.reference.1=xxxçš„ä¾èµ–é¡¹ï¼Œç¼–è¯‘æ—¶ä¾ç„¶æ‰¾ä¸åˆ°ï¼›è¯·ç¡®è®¤è·¯å¾„æ˜¯../../xxxçš„æ ¼å¼è€Œä¸æ˜¯..\\..\\xxxçš„æ ¼å¼ã€‚ï¼ˆåæ–œæ ä¸å…¼å®¹ï¼‰
 nativeåº“ï¼ˆ.soï¼‰é—®é¢˜ å¦‚æœå‡ºç°åº“æ— æ³•é“¾æ¥ï¼Œæˆ–è€…æ²¡æœ‰æ‰“åŒ…åˆ°apkä¸­çš„æƒ…å†µï¼›è¯·ç¡®è®¤æ˜¯å¦æ˜¯targetç‰ˆæœ¬ä¸å¯¹ï¼Œç›®å‰android-20æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜çš„ï¼ˆä¾‹å¦‚å®‰è£…åä¸èƒ½è¿è¡Œç­‰ã€‚ã€‚ã€‚ï¼‰ï¼Œæš‚ä¸å»ºè®®ä½¿ç”¨ï¼ˆ2014/9/11ï¼‰
 ç¯å¢ƒå˜é‡é—®é¢˜
å¦‚å‡ºç°ç¯å¢ƒå˜é‡æ‰¾ä¸åˆ°ï¼Œå¯ä»¥ç›´æ¥åŠ åœ¨Antçš„Propertiesé‡Œé¢ï¼Œå¦‚ï¼š
sdk.dir=/xxx/xxx/xxx/sdk   ç­¾åé—®é¢˜   æŠŠkeyæ‰¾ä¸ªä½ç½®æ”¾å¥½ï¼Œç„¶ååœ¨Antçš„Propertiesé‡Œé¢åŠ å…¥ï¼š
key.store=/xxx/xxx/xxx.key key.alias=xxx key.store.password=xxx key.alias.password=xxx  æç¤ºç©ºé—´ä¸è¶³
å¤šæ¬¡ç¼–è¯‘åå¦‚ç©ºé—´ä¸è¶³ï¼Œæœ€å¥½å°†JENKINS_HOMEï¼ˆä¸»è¦æ˜¯æ”¹è¿™ä¸ªç¯å¢ƒå˜é‡ï¼‰è¿ç§»åˆ°å…¶ä»–ç›˜ï¼ˆé»˜è®¤æ˜¯/var/lib/jenkinsï¼‰; å¦‚æœé‡åˆ°äº†503çš„è¯ï¼Œä¸€èˆ¬æ˜¯æƒé™ä¸å¯¹ï¼ŒæŠŠæ–°ç›®å½•çš„owneræ”¹ä¸ºjenkins:jenkinsï¼Œæƒé™æ”¹ä¸º755å³å¯ã€‚
 å¤šæ–‡ä»¶æ‰“åŒ…
ä¸æ”¯æŒå¤šä¸ªæ–‡ä»¶åŒæ—¶è¾“å‡ºï¼ˆé™¤éæœ‰nameä¸Šçš„å…³è”ï¼Œå¦‚**/*.apkè¿™ç§ï¼‰ï¼Œè¿™é‡Œå¯ä»¥ç”¨shellå‘½ä»¤æ¥æ‰“åŒ…ï¼›å¦‚tarï¼›è¿™é‡Œå¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡æ–¹ä¾¿å‘½åï¼Œå¦‚$JOB_NAMEæˆ–è€…$WORKSPACEç­‰ç­‰ï¼Œä¸¾ä¸ªæ —å­ï¼š
cd $WORKSPACE/code/XXX/bin/ tar zcvf $JOB_NAME.tar.gz proguard/mapping.txt xxx.apk  æœ€åArchive the artifaceså¡«**/*.tar.gzå°±å¥½äº†
 å¦‚ä½•åˆ é™¤SVNçš„ç™»å½•ä¿¡æ¯   ç™»å½•æœåŠ¡å™¨ï¼ˆç•Œé¢ä¸Šæ²¡æ‰¾åˆ°ä¿®æ”¹çš„åœ°æ–¹ï¼‰ï¼ŒEdit your HUDSON_HOME/hudson.scm.SubversionSCM.xml file and delete your /credentials/entry matching with your realm (and having your given username)."/>



<meta property="og:title" content="Jenkins android è‡ªåŠ¨åŒ–ç¼–è¯‘çš„ä¸€äº›å‘" />
<meta property="og:description" content="Jenkinså°±æ˜¯Hudsonçš„å…ƒè€ä»¬ï¼Œå¯¹Oracleæ³¨å†ŒHudsonå•†æ ‡ï¼ˆSunè¢«åƒäº†å˜›ï¼‰å¹¶ä¸”æ‰“ç®—å°†å…¶ç§æœ‰å•†ä¸šåŒ–è¡¨ç¤ºä¸æ»¡åï¼Œå¦èµ·ç‚‰ç¶çš„äº§ç‰©ï¼ˆæ‰€ä»¥å’Œhudsonä¸ä»…çœ‹èµ·æ¥åƒï¼Œè¿æ’ä»¶åŸºæœ¬éƒ½é€šç”¨ã€‚ã€‚ã€‚ï¼‰ æ›´å…·ä½“çš„ç»†èŠ‚è¯·ç§»æ­¥Wiki
[æœ¬æ–‡éç§‘æ™®/æ•™ç¨‹è´´ï¼Œä»…ä¾›å°è¯•ä½¿ç”¨Jenkins/Hudsonä½†é‡åˆ°é—®é¢˜çš„åŒå­¦ä»¬ï¼Œå¡«å¹³å‡ ä¸ªè„šä¸‹çš„å‘ã€‚]
###åŸºæœ¬æ•™ç¨‹ï¼š
ç›´æ¥å®‰è£…è¿è¡Œinstall jenkinså°±å¯ä»¥äº†ï¼Œç„¶åè®¿é—®localhost:8080å°±å¯ä»¥çœ‹åˆ°åŸºæœ¬é¡µé¢ã€‚
https://wiki.jenkins-ci.org/display/JENKINS/Installing&#43;Jenkins&#43;on&#43;Ubuntu https://wiki.jenkins-ci.org/display/JENKINS/GMail
ä¸€èˆ¬å®‰è£…æ’ä»¶å¦‚ä¸‹ï¼š
https://wiki.jenkins-ci.org/display/JENKINS/Ant&#43;Plugin https://wiki.jenkins-ci.org/display/JENKINS/Android&#43;Lint&#43;Plugin https://wiki.jenkins-ci.org/display/JENKINS/Android&#43;Emulator&#43;Plugin http://wiki.hudson-ci.org/display/HUDSON/Subversion&#43;Release&#43;Manager
é…ç½®å‚è€ƒå¦‚ä¸‹å³å¯ï¼š
http://java.dzone.com/articles/automating-continuous https://wiki.jenkins-ci.org/display/JENKINS/Building&#43;an&#43;Android&#43;app&#43;and&#43;test&#43;project
###æ³¨æ„äº‹é¡¹ï¼š
ä¸€èˆ¬å¦‚ä¸Šæ“ä½œï¼Œå°±å·®ä¸å¤šå¯ä»¥å»â€œbuildâ€äº†ã€‚ä½†å¾ˆå¯èƒ½æ˜¯è†æ£˜éé‡çš„ï¼Œè¿™é‡Œç½—åˆ—ä¸€äº›é‡åˆ°çš„å‘ï¼š
 å¤šå·¥ç¨‹ä¾èµ– å¦‚å·¥ç¨‹Aï¼Œæœ‰ä¸¤ä¸ªä¾èµ–çš„libraryå·¥ç¨‹Bå’ŒCï¼Œè¿™æ—¶å€™é™¤äº†éœ€è¦åœ¨å·¥ç¨‹Aä¸‹é¢ç”Ÿæˆbuild.xmlå’Œproject.propertiesï¼Œè¿˜éœ€è¦åœ¨å·¥ç¨‹Bå’ŒCä¸‹é¢åŒæ ·ç”Ÿæˆï¼ˆandroid update projectï¼‰ï¼›ç„¶åç¼–è¯‘çš„æ—¶å€™åœ¨Antçš„Build Fileé‡Œé¢ä½¿ç”¨å·¥ç¨‹Açš„build.xmlå³å¯
 è·¯å¾„é—®é¢˜ å¦‚æœå‡ºç°æ˜æ˜project.propertiesé‡Œé¢æœ‰æ³¨æ˜android.library.reference.1=xxxçš„ä¾èµ–é¡¹ï¼Œç¼–è¯‘æ—¶ä¾ç„¶æ‰¾ä¸åˆ°ï¼›è¯·ç¡®è®¤è·¯å¾„æ˜¯../../xxxçš„æ ¼å¼è€Œä¸æ˜¯..\\..\\xxxçš„æ ¼å¼ã€‚ï¼ˆåæ–œæ ä¸å…¼å®¹ï¼‰
 nativeåº“ï¼ˆ.soï¼‰é—®é¢˜ å¦‚æœå‡ºç°åº“æ— æ³•é“¾æ¥ï¼Œæˆ–è€…æ²¡æœ‰æ‰“åŒ…åˆ°apkä¸­çš„æƒ…å†µï¼›è¯·ç¡®è®¤æ˜¯å¦æ˜¯targetç‰ˆæœ¬ä¸å¯¹ï¼Œç›®å‰android-20æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜çš„ï¼ˆä¾‹å¦‚å®‰è£…åä¸èƒ½è¿è¡Œç­‰ã€‚ã€‚ã€‚ï¼‰ï¼Œæš‚ä¸å»ºè®®ä½¿ç”¨ï¼ˆ2014/9/11ï¼‰
 ç¯å¢ƒå˜é‡é—®é¢˜
å¦‚å‡ºç°ç¯å¢ƒå˜é‡æ‰¾ä¸åˆ°ï¼Œå¯ä»¥ç›´æ¥åŠ åœ¨Antçš„Propertiesé‡Œé¢ï¼Œå¦‚ï¼š
sdk.dir=/xxx/xxx/xxx/sdk   ç­¾åé—®é¢˜   æŠŠkeyæ‰¾ä¸ªä½ç½®æ”¾å¥½ï¼Œç„¶ååœ¨Antçš„Propertiesé‡Œé¢åŠ å…¥ï¼š
key.store=/xxx/xxx/xxx.key key.alias=xxx key.store.password=xxx key.alias.password=xxx  æç¤ºç©ºé—´ä¸è¶³
å¤šæ¬¡ç¼–è¯‘åå¦‚ç©ºé—´ä¸è¶³ï¼Œæœ€å¥½å°†JENKINS_HOMEï¼ˆä¸»è¦æ˜¯æ”¹è¿™ä¸ªç¯å¢ƒå˜é‡ï¼‰è¿ç§»åˆ°å…¶ä»–ç›˜ï¼ˆé»˜è®¤æ˜¯/var/lib/jenkinsï¼‰; å¦‚æœé‡åˆ°äº†503çš„è¯ï¼Œä¸€èˆ¬æ˜¯æƒé™ä¸å¯¹ï¼ŒæŠŠæ–°ç›®å½•çš„owneræ”¹ä¸ºjenkins:jenkinsï¼Œæƒé™æ”¹ä¸º755å³å¯ã€‚
 å¤šæ–‡ä»¶æ‰“åŒ…
ä¸æ”¯æŒå¤šä¸ªæ–‡ä»¶åŒæ—¶è¾“å‡ºï¼ˆé™¤éæœ‰nameä¸Šçš„å…³è”ï¼Œå¦‚**/*.apkè¿™ç§ï¼‰ï¼Œè¿™é‡Œå¯ä»¥ç”¨shellå‘½ä»¤æ¥æ‰“åŒ…ï¼›å¦‚tarï¼›è¿™é‡Œå¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡æ–¹ä¾¿å‘½åï¼Œå¦‚$JOB_NAMEæˆ–è€…$WORKSPACEç­‰ç­‰ï¼Œä¸¾ä¸ªæ —å­ï¼š
cd $WORKSPACE/code/XXX/bin/ tar zcvf $JOB_NAME.tar.gz proguard/mapping.txt xxx.apk  æœ€åArchive the artifaceså¡«**/*.tar.gzå°±å¥½äº†
 å¦‚ä½•åˆ é™¤SVNçš„ç™»å½•ä¿¡æ¯   ç™»å½•æœåŠ¡å™¨ï¼ˆç•Œé¢ä¸Šæ²¡æ‰¾åˆ°ä¿®æ”¹çš„åœ°æ–¹ï¼‰ï¼ŒEdit your HUDSON_HOME/hudson.scm.SubversionSCM.xml file and delete your /credentials/entry matching with your realm (and having your given username)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/jenkins-android-auto-build-problems/" />
<meta property="article:published_time" content="2014-09-19T09:16:23&#43;00:00"/>
<meta property="article:modified_time" content="2014-09-19T09:16:23&#43;00:00"/><meta property="og:site_name" content="ä½ å¥½ï¼Œä¸–ç•Œ" />






  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">Hello World</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  <div class="post">
    <h2 class="post-title"><a href="/posts/jenkins-android-auto-build-problems/">Jenkins android è‡ªåŠ¨åŒ–ç¼–è¯‘çš„ä¸€äº›å‘</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2014-09-19
        </span>
      
      <span class="post-author">â€” Written by Guo Yi</span>
      
    </div>

    
      <span class="post-tags">
        
          #<a href="/tags/android/">Android</a>&nbsp;
        
          #<a href="/tags/jenkins/">Jenkins</a>&nbsp;
        
          #<a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E7%BC%96%E8%AF%91/">è‡ªåŠ¨åŒ–ç¼–è¯‘</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      <p>Jenkinså°±æ˜¯Hudsonçš„å…ƒè€ä»¬ï¼Œå¯¹Oracleæ³¨å†ŒHudsonå•†æ ‡ï¼ˆSunè¢«åƒäº†å˜›ï¼‰å¹¶ä¸”æ‰“ç®—å°†å…¶ç§æœ‰å•†ä¸šåŒ–è¡¨ç¤ºä¸æ»¡åï¼Œå¦èµ·ç‚‰ç¶çš„äº§ç‰©ï¼ˆæ‰€ä»¥å’Œhudsonä¸ä»…çœ‹èµ·æ¥åƒï¼Œè¿æ’ä»¶åŸºæœ¬éƒ½é€šç”¨ã€‚ã€‚ã€‚ï¼‰
æ›´å…·ä½“çš„ç»†èŠ‚è¯·ç§»æ­¥<a href="http://en.wikipedia.org/wiki/Jenkins_(software)">Wiki</a></p>

<p>[æœ¬æ–‡éç§‘æ™®/æ•™ç¨‹è´´ï¼Œä»…ä¾›å°è¯•ä½¿ç”¨Jenkins/Hudsonä½†é‡åˆ°é—®é¢˜çš„åŒå­¦ä»¬ï¼Œå¡«å¹³å‡ ä¸ªè„šä¸‹çš„å‘ã€‚]</p>

<hr />

<p>###åŸºæœ¬æ•™ç¨‹ï¼š</p>

<p>ç›´æ¥å®‰è£…è¿è¡Œinstall jenkinså°±å¯ä»¥äº†ï¼Œç„¶åè®¿é—®localhost:8080å°±å¯ä»¥çœ‹åˆ°åŸºæœ¬é¡µé¢ã€‚</p>

<p><a href="https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+Ubuntu">https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+Ubuntu</a>
<a href="https://wiki.jenkins-ci.org/display/JENKINS/GMail">https://wiki.jenkins-ci.org/display/JENKINS/GMail</a></p>

<p>ä¸€èˆ¬å®‰è£…æ’ä»¶å¦‚ä¸‹ï¼š</p>

<p><a href="https://wiki.jenkins-ci.org/display/JENKINS/Ant+Plugin">https://wiki.jenkins-ci.org/display/JENKINS/Ant+Plugin</a>
<a href="https://wiki.jenkins-ci.org/display/JENKINS/Android+Lint+Plugin">https://wiki.jenkins-ci.org/display/JENKINS/Android+Lint+Plugin</a>
<a href="https://wiki.jenkins-ci.org/display/JENKINS/Android+Emulator+Plugin">https://wiki.jenkins-ci.org/display/JENKINS/Android+Emulator+Plugin</a>
<a href="http://wiki.hudson-ci.org/display/HUDSON/Subversion+Release+Manager">http://wiki.hudson-ci.org/display/HUDSON/Subversion+Release+Manager</a></p>

<p>é…ç½®å‚è€ƒå¦‚ä¸‹å³å¯ï¼š</p>

<p><a href="http://java.dzone.com/articles/automating-continuous">http://java.dzone.com/articles/automating-continuous</a>
<a href="https://wiki.jenkins-ci.org/display/JENKINS/Building+an+Android+app+and+test+project">https://wiki.jenkins-ci.org/display/JENKINS/Building+an+Android+app+and+test+project</a></p>

<hr />

<p>###æ³¨æ„äº‹é¡¹ï¼š</p>

<p>ä¸€èˆ¬å¦‚ä¸Šæ“ä½œï¼Œå°±å·®ä¸å¤šå¯ä»¥å»â€œbuildâ€äº†ã€‚ä½†å¾ˆå¯èƒ½æ˜¯è†æ£˜éé‡çš„ï¼Œè¿™é‡Œç½—åˆ—ä¸€äº›é‡åˆ°çš„å‘ï¼š</p>

<ul>
<li><p>å¤šå·¥ç¨‹ä¾èµ–
å¦‚å·¥ç¨‹Aï¼Œæœ‰ä¸¤ä¸ªä¾èµ–çš„libraryå·¥ç¨‹Bå’ŒCï¼Œè¿™æ—¶å€™é™¤äº†éœ€è¦åœ¨å·¥ç¨‹Aä¸‹é¢ç”Ÿæˆbuild.xmlå’Œproject.propertiesï¼Œè¿˜éœ€è¦åœ¨å·¥ç¨‹Bå’ŒCä¸‹é¢åŒæ ·ç”Ÿæˆï¼ˆandroid update projectï¼‰ï¼›ç„¶åç¼–è¯‘çš„æ—¶å€™åœ¨Antçš„Build Fileé‡Œé¢ä½¿ç”¨å·¥ç¨‹Açš„build.xmlå³å¯</p></li>

<li><p>è·¯å¾„é—®é¢˜
å¦‚æœå‡ºç°æ˜æ˜<code>project.properties</code>é‡Œé¢æœ‰æ³¨æ˜<code>android.library.reference.1=xxx</code>çš„ä¾èµ–é¡¹ï¼Œç¼–è¯‘æ—¶ä¾ç„¶æ‰¾ä¸åˆ°ï¼›è¯·ç¡®è®¤è·¯å¾„æ˜¯<code>../../xxx</code>çš„æ ¼å¼è€Œä¸æ˜¯<code>..\\..\\xxx</code>çš„æ ¼å¼ã€‚<strong><em>ï¼ˆåæ–œæ ä¸å…¼å®¹ï¼‰</em></strong></p></li>

<li><p>nativeåº“ï¼ˆ.soï¼‰é—®é¢˜
å¦‚æœå‡ºç°åº“æ— æ³•é“¾æ¥ï¼Œæˆ–è€…æ²¡æœ‰æ‰“åŒ…åˆ°apkä¸­çš„æƒ…å†µï¼›è¯·ç¡®è®¤æ˜¯å¦æ˜¯targetç‰ˆæœ¬ä¸å¯¹ï¼Œ<strong><em>ç›®å‰android-20æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜çš„ï¼ˆä¾‹å¦‚å®‰è£…åä¸èƒ½è¿è¡Œç­‰ã€‚ã€‚ã€‚ï¼‰ï¼Œæš‚ä¸å»ºè®®ä½¿ç”¨ï¼ˆ2014/9/11ï¼‰</em></strong></p></li>

<li><p>ç¯å¢ƒå˜é‡é—®é¢˜</p>

<p>å¦‚å‡ºç°ç¯å¢ƒå˜é‡æ‰¾ä¸åˆ°ï¼Œå¯ä»¥ç›´æ¥åŠ åœ¨Antçš„Propertiesé‡Œé¢ï¼Œå¦‚ï¼š</p>

<pre><code class="language-language-bash">sdk.dir=/xxx/xxx/xxx/sdk
</code></pre>

<ul>
<li>ç­¾åé—®é¢˜
<br /></li>
</ul>

<p>æŠŠkeyæ‰¾ä¸ªä½ç½®æ”¾å¥½ï¼Œç„¶ååœ¨Antçš„Propertiesé‡Œé¢åŠ å…¥ï¼š</p>

<pre><code class="language-language-bash">key.store=/xxx/xxx/xxx.key
key.alias=xxx
key.store.password=xxx
key.alias.password=xxx
</code></pre></li>

<li><p>æç¤ºç©ºé—´ä¸è¶³</p>

<p>å¤šæ¬¡ç¼–è¯‘åå¦‚ç©ºé—´ä¸è¶³ï¼Œæœ€å¥½å°†JENKINS_HOMEï¼ˆä¸»è¦æ˜¯æ”¹è¿™ä¸ªç¯å¢ƒå˜é‡ï¼‰<a href="http://blog.code4hire.com/2011/09/changing-the-jenkins-home-directory-on-ubuntu-take-2/">è¿ç§»åˆ°å…¶ä»–ç›˜ï¼ˆé»˜è®¤æ˜¯/var/lib/jenkinsï¼‰</a>; å¦‚æœé‡åˆ°äº†503çš„è¯ï¼Œä¸€èˆ¬æ˜¯æƒé™ä¸å¯¹ï¼ŒæŠŠ<strong><em>æ–°ç›®å½•çš„owneræ”¹ä¸ºjenkins:jenkinsï¼Œæƒé™æ”¹ä¸º755å³å¯ã€‚</em></strong></p></li>

<li><p>å¤šæ–‡ä»¶æ‰“åŒ…</p>

<p>ä¸æ”¯æŒå¤šä¸ªæ–‡ä»¶åŒæ—¶è¾“å‡ºï¼ˆé™¤éæœ‰nameä¸Šçš„å…³è”ï¼Œå¦‚<code>**/*.apk</code>è¿™ç§ï¼‰ï¼Œè¿™é‡Œå¯ä»¥ç”¨shellå‘½ä»¤æ¥æ‰“åŒ…ï¼›å¦‚tarï¼›è¿™é‡Œå¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡æ–¹ä¾¿å‘½åï¼Œå¦‚$JOB_NAMEæˆ–è€…$WORKSPACEç­‰ç­‰ï¼Œä¸¾ä¸ªæ —å­ï¼š</p>

<pre><code class="language-language-bash">cd $WORKSPACE/code/XXX/bin/
tar zcvf $JOB_NAME.tar.gz proguard/mapping.txt xxx.apk
</code></pre>

<p>æœ€åArchive the artifaceså¡«<code>**/*.tar.gz</code>å°±å¥½äº†</p>

<ul>
<li>å¦‚ä½•åˆ é™¤SVNçš„ç™»å½•ä¿¡æ¯
<br /></li>
</ul>

<p>ç™»å½•æœåŠ¡å™¨ï¼ˆç•Œé¢ä¸Šæ²¡æ‰¾åˆ°ä¿®æ”¹çš„åœ°æ–¹ï¼‰ï¼ŒEdit your <code>HUDSON_HOME/hudson.scm.SubversionSCM.xml</code> file and delete your <code>/credentials/entry</code> matching with your realm (and having your given username).</p>

<ul>
<li>å¶å°”å‡ºç°çš„HTTP ERROR: 503 Problem accessing /jenkins. Reason: Service Unavailable
<br /></li>
</ul>

<p>å¦‚æœç”¨äº†Jettyï¼Œå‚è€ƒè¿™ä¸ª<a href="http://stackoverflow.com/questions/9111759/http-error-503-accessing-jenkins-reason-service-unavailable">æ–¹æ¡ˆ</a>ã€‚</p>

<p>å¦‚æœæ²¡ç”¨ï¼ˆjenkins logé‡Œé¢å¯èƒ½æœ‰å¥‡æ€ªçš„zip sizeé”™è¯¯ï¼‰ï¼Œé‚£å°±é‡å¯ä¸€ä¸‹OSå§ã€‚</p></li>
</ul>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/zhou-xing-chi/">
                <span class="button__icon">â†</span>
                <span class="button__text">å‘¨æ˜Ÿæ˜Ÿæœ€è¿‘è¢«é»‘çš„ä¸è½»</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/posts/understanding-node-js-xia-fan-yi/">
                <span class="button__text">Understanding node.js çç¿»è¯‘</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

    </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">æ¥è‡ªæŸä¸ªå…«é›¶å</div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
